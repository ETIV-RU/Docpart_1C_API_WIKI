# Получение информации об артикуле 

Метод возвращает список производителей и наименования товара по его артикулу. Получение данных выполняется с сервера Кроссов Docpart. Для одного артикула может быть возвращено несколько вариантов производителей.

Операция: **get_article_info**

Параметры запроса:

|**Параметр**|**Пример заполнения**|**Тип** |**Описание** |
|---|---|---|---|
|task *|get_article_info|Строка|Метод для выполнения|
|tech_key *|TEST_KEY_FROM_SETTINGS|Строка|Ключ для вызова скриптов|
|article|24012802171|Строка/Массив строк|Артикулы товаров для которых необходимо получить информацию|

Результат запроса представляет собой структуру с данными:

|**Поле**|**Тип**|**Описание** |
|---|---|---|
|status|Булево|Статус выполнения метода|
|message|Строка|Всегда возвращает текст «ОК»|
|data|Структура|Запрашиваемые данные|

При успешном выполнении метод возвращает данные [data]:

|**Поле**|**Тип**|**Описание** |
|---|---|---|
|article|Строка|Артикул товара|
|manufacturer|Строка|Производитель|
|name|Строка|Наименование товара|



# Получение списка категорий каталога

Метод возвращает список категорий каталога. Если передано значение параметра parent_id, то будут возвращены только категории, для которых категория с идентфиикатором parent_id является родительской. 

Операция: **catalog_categories_get**

Параметры запроса:

|**Параметр**|**Пример заполнения**|**Тип** |**Описание** |
|---|---|---|---|
|task *|catalog_categories_get|Строка|Метод для выполнения|
|tech_key *|TEST_KEY_FROM_SETTINGS|Строка|Ключ для вызова скриптов|
|parent_id|0|Число|Идентификатор родительской категории. Если передан, то будут возвращены только категории с этим родителем. |

Результат запроса представляет собой структуру с данными:

|**Поле**|**Тип**|**Описание** |
|---|---|---|
|status|Булево|Статус выполнения метода|
|message|Строка|Всегда возвращает текст «ОК»|
|data|Структура|Запрашиваемые данные|

При успешном выполнении метод возвращает данные [data]:

|**Поле**|**Тип**|**Описание** |
|---|---|---|
|id|Строка|Артикул товара|
|title_tag|Строка|Производитель|
|name|Строка|Наименование товара|
|alias|Строка|Алиас товара|
|url|Строка|Ссылка|
|count|Число|Количество подкатегорий|
|level|Число|Уровень категории|
|parent|Число|Идентификатор родительской категории|
|description_tag|Строка|СЕО-Тег description|
|keywords_tag|Строка|СЕО-Тег keywords|
|robots_tag|Строка|СЕО-Тег robots|
|import_format|Строка|Формат импорта|
|export_format|Строка|Формат экспорта|
|image|Строка|Ссылка на изображение|
|order|Число|Порядок для сортировки|
|published_flag|Число|Флаг публикации|
|properties|Массив|Массив с описанием свойств, настроенных для текущей категории|


Массив описания свойств properties содержит структуры со следующими полями: 

|**Поле**|**Тип**|**Описание** |**Пример заполнения** |
|---|---|---|---|
|property_id|Число|Идентификатор свойства|97|
|property_name|Строка|Представление свойства|Артикул|
|property_type_id|Число|Идентификатор типа свойства|3|
|property_type_name|Структура|Имя типа свойства|Строка|


# Добавление новой категории каталога

Операция создает новые категории каталога. Можно создавать нексколько категорий, передав массив в параметре data.

Операция: **catalog_categories_add**

Параметры запроса:

|**Параметр**|**Пример заполнения**|**Тип** |**Описание** |
|---|---|---|---|
|task *|catalog_categories_add|Строка|Метод для выполнения|
|tech_key *|TEST_KEY_FROM_SETTINGS|Строка|Ключ для вызова скриптов|
|data||Структура/Массив структур|Данные категорий|

Результат запроса представляет собой структуру с данными:

|**Поле**|**Тип**|**Описание** |
|---|---|---|
|status|Булево|Статус выполнения метода|
|message|Строка|Всегда возвращает текст «ОК»|
|data|Структура|Запрашиваемые данные|

Поле data содержит структуру или массив структур со следующими полями: 

|**Поле**|**Тип**|**Описание** |**Пример заполнения** |
|---|---|---|---|
|caption|Число|Имя категории|Аксессуары VAG|
|alias|Строка|Имя категории для URL|aksessuary-vag|
|parent|Число|Идентификатор родительской категории|0|
|title_tag|Строка|SEO: Тег title|Аксессуары VAG|
|keywords_tag|Строка|SEO: Тег keywords|Аксессуары, VAG, Audi, Volkswagen, Skoda|
|robots_tag|Строка|SEO: Тег robots||
|import_format|Строка|Формат импорта. Служебное поле||
|export_format|Строка|Формат экспорта. Служебное поле||
|image|Строка|Ссылка на изображение, загруженное на сайте|Строка|
|order|Число|Порядок сортировки|9|
|published_flag|Число|Флаг публикации категории. Если 1, то категория будет отборажаться на сайте|1|
|properties|Структура / массив структур|Данные свойств|

Структура properties содержит информацию о создаваемых для категории свойств. Поля структуры:

|**Поле**|**Тип**|**Описание** |
|---|---|---|
|name|Строка|Имя свойства: 1 - Целое число; 2 - Дробное число; 3 - Строка; 4 - Булево (Флаг да - нет); 5 - Линейный список|
|type|Строка|Тип значения свойства|
|list_id|Число|Идентификатор списка. Только для свойств с типом Список (type=5)|
|plurality|Число|Множественный выбор. Только для свойств с типом Список (type=5)|
|order|Число|Порядок сортировки|
|for_similar|Число|Флаг учитывать для похожих товаров|
|is_option|Число|Флаг является вариантом исполнения|


При успешном выполнении метод возвращает данные [data]:

|**Поле**|**Тип**|**Описание** |
|---|---|---|
|category_id|Число|Идентификатор категории|
|caption|Строка|Производитель|
|alias|Строка|Наименование товара|
|parent|Строка|Алиас товара|
|message|Строка|Ссылка|
|properties|Структура / массив структур|Данные свойств|


Массив описания свойств properties содержит структуры со следующими полями: 

|**Поле**|**Тип**|**Описание** |**Пример заполнения** |
|---|---|---|---|
|property_id|Число|Идентификатор свойства|97|
|property_name|Строка|Представление свойства|Артикул|
|property_type_id|Число|Идентификатор типа свойства|3|
|property_type_name|Структура|Имя типа свойства|Строка|